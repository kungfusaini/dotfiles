(self.webpackChunk=self.webpackChunk||[]).push([[9655,7217],{69998:(e,t,o)=>{o.r(t),o.d(t,{FacebookBusiness:()=>a});var a,n=o(90023),i=o(84714),r=o(58303),l=o(1314),c=o(8791),d=o(21980),s=o(6887),u=o(57998),b=o(74425),f=o(60774),x=o(72043);!function(e){e.page=(0,x.$W)({name:"facebook-business",domain:b.fV},[u.Facebook.generalTextboxOrComboBox,c.T.textarea("FacebookBusiness.textarea-with-emoji",(()=>({extraCondition:e=>{const t=(0,n.zG)(e.field.offsetParent,r.DT(f.Re),r.tS((e=>r.ij(e.offsetParent))),r.tS((e=>r.ij(e.parentElement))),r.fS(n.gn));return!!(null==t?void 0:t.querySelector('div[aria-label="Emoji"][role="button"]'))},createLayout:e=>new l.A7(e,{createGbuttonShiftBehavior:()=>i.of({left:-19,top:2})})}))),c.T.textarea("FacebookBusiness.small-textarea",(()=>({createLayout:e=>new l.A7(e),validationRules:[...d.u,(0,s.Uo)(16,100)]})))])}(a||(a={}))},57998:(e,t,o)=>{o.r(t),o.d(t,{Facebook:()=>w,getCreateReplacementService:()=>C});var a=o(91089),n=o(84714),i=o(14969),r=o(29479),l=o(1314),c=o(92244),d=o(45282),s=o(94919),u=o(8791),b=o(21980),f=o(3479),x=o(74425),m=o(5681),p=o(20182),v=o(81752),h=o(72043);const g=(e,t)=>{const o="www.facebook.com"===self.location.host;return{height:e.scrollHeight+(o?2:0),width:t.width}},C=(e,t)=>o=>e.experimentClient.isGateEnabled(p.K.FacebookUseDispatchEventReplacementService)?new v.V0({eventTarget:e.field,experimentClient:e.experimentClient,textObserver:o,delayBeforeSelection:null==t?void 0:t.delayBeforeSelection}):s.BT.create(o,e.experimentClient,{asyncReplaceDelay:0,focusElement:e.field});var w;!function(e){function t(e){const t=e.closest("[role=dialog],[role=region]");return t?m.x.observeAttribute(t,"role").pipe((0,i.P)((e=>"dialog"!==e)),(0,r.h)(void 0)):(0,a.F)()}function o(e){return u.T.contentEditable("Facebook.general-textbox-or-combobox",(o=>{const a={validationRules:b.u,extraCondition:e=>"textbox"===e.field.getAttribute("role")||"combobox"===e.field.getAttribute("role"),createLayout:e=>new l.A7(e,{pretendFieldPositioned:!0,getFieldSize:g}),expiration:t},n=e?e(o,a):{};return{...a,...n}}))}const s=o(((e,t)=>({integrationName:"facebook-new-ui-post",createReplacementService:C(e),extraCondition:e=>{var o;const a=null===(o=t.extraCondition)||void 0===o?void 0:o.call(t,e),n=e.field.closest('div[role="presentation"]'),i=null==n?void 0:n.querySelector('div[aria-label="Emoji"][role="button"]');return Boolean(a)&&Boolean(i)},createLayout:e=>new l.A7(e,{pretendFieldPositioned:!0,createGbuttonShiftBehavior:()=>(0,n.of)({left:-6,top:0}),getFieldSize:g})})));e.newUIChat=o(((e,t)=>({integrationName:"facebook-new-ui-chat",createReplacementService:C(e,e.experimentClient.isGateEnabled(p.K.FacebookChatNoDelayBeforeSelection)?{}:{delayBeforeSelection:0}),extraCondition:e=>{var o;const a=null===(o=t.extraCondition)||void 0===o?void 0:o.call(t,e),n=(0,c.bp)((0,c.bp)(e.field)),i=null==n?void 0:n.querySelector('div[aria-label="Choose an emoji"][role="button"]');return Boolean(a)&&Boolean(i)},createLayout:e=>new l.A7(e,{createGbuttonShiftBehavior:()=>(0,n.of)({left:0,top:2}),getFieldSize:(e,t)=>({height:t.height,width:t.width})})}))),e.generalTextboxOrComboBox=o(),e.page=(0,h.$W)({name:"facebook",domain:x.p$,andCanExecute:e=>!/^\/messages\//.test(e.doc.location.pathname)},[s,e.newUIChat,e.generalTextboxOrComboBox,u.T.textarea("Facebook",(()=>({createLayout:e=>new d.K(e)}))),f.k.iframeHostRule])}(w||(w={}))}}]);